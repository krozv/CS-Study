# HTTP

## HTTPμ νΉμ„±

### 1) μ”μ²­-μ‘λ‹µ κΈ°λ° ν”„λ΅ν† μ½

- ν΄λΌμ΄μ–ΈνΈ-μ„λ²„ κµ¬μ΅° κΈ°λ°μ μ”μ²­-μ‘λ‹µ ν”„ν† ν† μ½
- HTTP μ”μ²­ λ©”μ‹μ§€μ™€ HTTP μ‘λ‹µ λ©”μ‹μ§€λ” λ©”μ‹μ§€ ν•νƒκ°€ λ‹¤λ¥΄λ‹¤.

<br>

### 2) λ―Έλ””μ–΄ λ…λ¦½μ  ν”„λ΅ν† μ½

- HTTPλ” μ£Όκ³ λ°›μ„ μμ›μ νΉμ„±κ³Ό λ¬΄κ΄€ν•κ² κ·Έμ € μμ›μ„ μ£Όκ³ λ°›μ„ μλ‹¨(μΈν„°νμ΄μ¤) μ—­ν• λ§ ν•λ‹¤.
- HTTPλ¥Ό ν†µν•΄ HTML, JPEG, PNG, JSON, XML, PDF λ“± λ‹¤μ–‘ν• μΆ…λ¥μ μμ› μ†΅μμ‹  κ°€λ¥
- HTTPλ” μ£Όκ³ λ°›μ„ λ―Έλ””μ–΄ νƒ€μ…μ— νΉλ³„ν μ ν•μ„ λ‘μ§€ μ•κ³  λ™μ‘

#### Media Type (= MIME Type)

- HTTPμ—μ„ λ©”μ‹μ§€λ΅ μ£Όκ³ λ°›λ” μμ›μ μΆ…λ¥
- μ¬λμ‹λ¥Ό κΈ°μ¤€μΌλ΅ `type/subtype` ν•μ‹μΌλ΅ κµ¬μ„±
  - νƒ€μ…: λ°μ΄ν„°μ μ ν•
  - μ„λΈνƒ€μ…: μ£Όμ–΄μ§„ νƒ€μ…μ— λ€ν• μ„Έλ¶€ μ ν•
- λ¶€κ°€μ μΈ μ„¤λ…μ„ μ„ν•΄ μ„ νƒμ μΌλ΅ λ§¤κ°λ³€μ ν¬ν•¨ κ°€λ¥

  - ν•μ‹ = `type/subtype;parameter=value`
  - μμ‹) `type/html;charset=UTF-8`

<img src="../img/media_type1.png" height=200>
<img src="../img/media_type2.png" height=200>

<br>

### 3) μƒνƒλ¥Ό μ μ§€ν•μ§€ μ•λ”(Stateless) ν”„λ΅ν† μ½

- μ„λ²„κ°€ HTTP μ”μ²­μ„ λ³΄λ‚Έ ν΄λΌμ΄μ–ΈνΈμ™€ κ΄€λ ¨λ μƒνƒλ¥Ό κΈ°μ–µν•μ§€ μ•λ”λ‹¤λ” μλ―Έ
- ν΄λΌμ΄μ–ΈνΈμ λ¨λ“  HTTP μ”μ²­μ€ κΈ°λ³Έμ μΌλ΅ λ…λ¦½μ μΈ μ”μ²­μΌλ΅ κ°„μ£Ό
- λ¨λ“  ν΄λΌμ΄μ–ΈνΈμ μƒνƒ μ •λ³΄λ¥Ό μ μ§€ν•λ” κ²ƒμ— λ€ν• μ„λ²„μ λ¶€λ‹΄ μ κ±°
- νΉμ • ν΄λΌμ΄μ–ΈνΈκ°€ νΉμ • μ„λ²„μ— μΆ…μ†λλ” μƒν™© λ°©μ§€

#### ν™•μ¥μ„±(Scalability)

    ν‹€μ • ν΄λΌμ΄μ–ΈνΈκ°€ νΉμ • μ„λ²„μ— μΆ…μ†λμ§€ μ•κ² ν•λ‹¤.

#### κ²¬κ³ μ„±(Robustness)

    μ„λ²„μ— λ¬Έμ κ°€ μƒκ²¨λ„ λ‹¤λ¥Έ μ„λ²„λ΅ λ€μ²΄ μ©μ΄

<br>

### 4) μ§€μ† μ—°κ²°(Persistent Connection)μ„ μ§€μ›ν•λ” ν”„λ΅ν† μ½

- = ν‚µ μ–ΌλΌμ΄λΈ(Keep-Alive)
- μµκ·Ό λ€μ¤‘μ μΌλ΅ μ‚¬μ©λλ” HTTP λ²„μ „(HTTP 1.1 μ΄μƒ)
- ν•λ‚μ TCP μ—°κ²°μƒμ—μ„ μ—¬λ¬ κ°μ μ”μ²­-μ‘λ‹µμ„ μ£Όκ³ λ°›μ„ μ μλ” κΈ°μ 
- λΉ„μ§€μ† μ—°κ²°
  - μ΄κΈ°μ HTTP λ²„μ „(HTTP 1.0 μ΄ν•)
  - TCP μ—°κ²° μλ¦½ν• ν›„, μ”μ²­μ— λ€ν• μ‘λ‹µμ„ λ°›μΌλ©΄ μ—°κ²° μΆ…λ£
  - μ¶”κ°€μ μΈ μ”μ²­-μ‘λ‹µμ„ ν•κΈ° μ„ν•΄μ„λ” λ‹¤μ‹ TCP μ—°κ²° μλ¦½λ¶€ν„° λ°λ³µ

<br>

## HTTP λ©”μ‹μ§€ κµ¬μ΅°

<img src="../img/http_message.png" height=200>

### π’΅ μ‹μ‘ λΌμΈ(start-line)

- HTTP λ©”μ‹μ§€κ°€ HTTP μ”μ²­ λ©”μ‹μ§€μΌ κ²½μ°, `μ‹μ‘ λΌμΈ = μ”μ²­ λΌμΈ`
- HTTP λ©”μ‹μ§€κ°€ HTTP μ‘λ‹µ λ©”μ‹μ§€μΌ κ²½μ°, `μ‹μ‘ λΌμΈ = μƒνƒ λΌμΈ`

#### μ”μ²­ λΌμΈ

<img src="../img/request_line.png" height=70>

- λ©”μ„λ“(method)

  - ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ μμ›(μ”μ²­ λ€μƒ)μ— λ€ν•΄ μν–‰ν•  μ‘μ—…μ μΆ…λ¥
  - λ€ν‘μ μΌλ΅ GET, POST, PUT, DELETE λ“±

- μ”μ²­ λ€μƒ(request-target)

  - HTTP μ”μ²­μ„ λ³΄λ‚Ό μ„λ²„μ μμ›
  - λ³΄ν†µ (μΏΌλ¦¬κ°€ ν¬ν•¨λ) URIμ κ²½λ΅κ°€ λ…μ‹
  - λ§μ•½ ν•μ„ κ²½λ΅κ°€ μ—†λ”λΌλ„ μ”μ²­ λ€μƒμ€ μ¬λμ‹(/)λ΅ ν‘κΈ°

- HTTP λ²„μ „
  - μ‚¬μ©λ HTTP λ²„μ „
  - `HTTP/<λ²„μ „>` μ΄λΌλ” ν‘κΈ° λ°©μ‹μ„ λ”°λ¥Έλ‹¤.

#### μƒνƒ λΌμΈ

<img src="../img/status_line.png" height=100>

- μƒνƒ μ½”λ“(status code)
  - μ”μ²­μ— λ€ν• κ²°κ³Όλ¥Ό λ‚νƒ€λ‚΄λ” μ„Έ μλ¦¬ μ •μ
  - 200, 404, ...
- μ΄μ  κµ¬λ¬Έ(reason phrase)
  - μƒνƒ μ½”λ“μ— λ€ν• λ¬Έμμ—΄ ν•νƒμ μ„¤λ…
  - OK, Not Found, ...

<br>

### π’΅ ν•„λ“ λΌμΈ(= ν—¤λ” λΌμΈ)

- 0κ° μ΄μƒμ HTTP ν—¤λ” λ…μ‹
- HTTP ν†µμ‹ μ— ν•„μ”ν• λ¶€κ°€ μ •λ³΄
- μ½λ΅ μ„ κΈ°μ¤€μΌλ΅ ν—¤λ” μ΄λ¦„κ³Ό ν•λ‚ μ΄μƒμ ν—¤λ”κ°’μΌλ΅ κµ¬μ„±

<img src="../img/header_line.png" height=100>

<br>

### π’΅ λ©”μ‹μ§€ λ³Έλ¬Έ(message-body)

- HTTP μ”μ²­ νΉμ€ μ‘λ‹µ λ©”μ‹μ§€μ—μ„ λ³Έλ¬Έμ΄ ν•„μ”ν•  κ²½μ° μ„ νƒμ μΌλ΅ λ©”μ‹μ§€ λ³Έλ¬Έμ— λ…μ‹
- λ‹¤μ–‘ν• μ½ν…μΈ  νƒ€μ…μ΄ μ‚¬μ© κ°€λ¥

<br>

## HTTP λ©”μ„λ“

<img src="../img/http_method.png" height=250>

### π’΅ GET

- νΉμ • μμ›μ„ μ΅°νν•  λ• μ‚¬μ©λλ” λ©”μ„λ“
- ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ—κ² 'μμ›μ„ κ°€μ Έλ‹¤μ£Όμ„Έμ”'λΌκ³  μ”μ²­ λ³΄λ‚΄λ” κ²ƒκ³Ό κ°™λ‹¤.

#### μ”μ²­ λ©”μ‹μ§€

<img src="../img/get_request.png" height=100>

#### μ‘λ‹µ λ©”μ‹μ§€

<img src="../img/get_response.png" height=200>

<br>

### π’΅ HEAD

- HEAD λ©”μ„λ“λ¥Ό μ‚¬μ©ν•λ©΄ μ„λ²„λ” μ”μ²­μ— λ€ν• μ‘λ‹µμΌλ΅ μ‘λ‹µ λ©”μ‹μ§€μ ν—¤λ”λ§μ„ λ°ν™

#### μ”μ²­ λ©”μ‹μ§€

<img src="../img/header_request.png" height=100>

#### μ‘λ‹µ λ©”μ‹μ§€

<img src="../img/header_response.png" height=100>

<br>

### π’΅ POST

- μ„λ²„λ΅ ν•μ—¬κΈ **νΉμ • μ‘μ—…μ„ μ²λ¦¬**ν•λ„λ΅ μ”μ²­ν•λ” λ©”μ„λ“
- μ²λ¦¬ν•  λ€μƒμ΄ ν”ν **λ©”μ‹μ§€ λ³Έλ¬Έ**μΌλ΅ λ…μ‹
- λ§μ€ κ²½μ° **ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ— μƒλ΅μ΄ μμ›μ„ μƒμ„±ν•κ³ μ ν•  λ•** μ‚¬μ©
- μƒλ΅μ΄ μμ›μ΄ μƒμ„±μ‹ μ„λ²„λ” μ‘λ‹µ λ©”μ‹μ§€μ **Location** ν—¤λ”λ¥Ό ν†µν•΄ μƒλ΅ μƒμ„±λ μμ›μ μ„μΉλ¥Ό μ•λ ¤μ¤€λ‹¤.

#### μ”μ²­ λ©”μ‹μ§€

<img src="../img/post_request.png" height=100>

#### μ‘λ‹µ λ©”μ‹μ§€

<img src="../img/post_response.png" height=100>

<br>

### π’΅ PUT

- μ”μ²­ μμ›μ΄ μ—†λ‹¤λ©΄ λ©”μ‹μ§€ λ³Έλ¬ΈμΌλ΅ μμ›μ„ μƒλ΅­κ² μƒμ„±
- μ”μ²­ μμ›μ΄ μ΅΄μ¬ν•λ‹¤λ©΄ λ©”μ‹μ§€ λ³Έλ¬ΈμΌλ΅ μμ›μ„ μ™„μ „ν λ€μ²΄

### π’΅ PATCH

- λ©”μ‹μ§€ λ³Έλ¬Έμ— λ§κ² μμ›μ„ μΌλ¶€ λ¶€λ¶„μ μΌλ΅ μμ •

### π’΅ DELETE

- νΉμ • μμ›μ„ μ‚­μ ν•κ³  μ‹¶μ„ λ• μ‚¬μ©

<br>

## HTTP μƒνƒ μ½”λ“

- μ”μ²­μ— λ€ν• κ²°κ³Όλ¥Ό λ‚νƒ€λ‚΄λ” μ„Έ μλ¦¬ μ •μ
- **λ°±μ μλ¦¬ μ**λ¥Ό κΈ°μ¤€μΌλ΅ μ ν•μ„ κµ¬λ¶„

    <img src="../img/status_code.png" height=200>

### π’΅ 200λ²λ€

- μ”μ²­ μ„±κ³µ μƒνƒ μ½”λ“

    <img src="../img/status200.png" height=150>

<br>

### π’΅ 300λ²λ€

- λ¦¬λ‹¤μ΄λ ‰μ… μƒνƒ μ½”λ“
- **μκµ¬μ μΈ λ¦¬λ‹¤μ΄λ ‰μ…**

  - μμ›μ΄ μ™„μ „ν μƒλ΅μ΄ κ³³μΌλ΅ μ΄λ™ν•μ—¬ κ²½λ΅κ°€ μκµ¬μ μΌλ΅ μ¬μ§€μ •
  - μ΄ κ²½μ° κΈ°μ΅΄μ URLμ— μ”μ²­ λ©”μ‹μ§€λ¥Ό λ³΄λ‚΄λ©΄ ν•­μƒ μƒλ΅μ΄ URLλ΅ λ¦¬λ‹¤μ΄λ ‰νΈ
  - κΈ°μ΅΄μ μμ› μ„μΉλ¥Ό κΈ°μ–µν•  ν•„μ” μ—†μ

    <img src="../img/status300_p.png" height=80>

- **μΌμ‹μ μΈ λ¦¬λ‹¤μ΄λ ‰μ…**

  - μμ›μ μ„μΉκ°€ μ„μ‹λ΅ λ³€κ²½λμ—κ±°λ‚ μ„μ‹λ΅ μ‚¬μ©ν•  URLμ΄ ν•„μ”ν• κ²½μ°μ— μ£Όλ΅ μ‚¬μ©
  - μ–΄λ–¤ URLμ— λ€ν•΄ μΌμ‹μ μΈ λ¦¬λ‹¤μ΄λ ‰μ… κ΄€λ ¨ μƒνƒ μ½”λ“λ¥Ό μ‘λ‹µλ°›μ•λ‹¤λ©΄ μ—¬μ „ν μ”μ²­μ„ λ³΄λ‚Έ URLμ€ κΈ°μ–µ

    <img src="../img/status300_t.png" height=100>

#### λ¦¬λ‹¤μ΄λ ‰μ…(redirection)

- μ”μ²­μ„ μ™„μν•κΈ° μ„ν•΄ μ¶”κ°€μ μΈ μ΅°μΉκ°€ ν•„μ”ν• μƒνƒ
- ν΄λΌμ΄μ–ΈνΈκ°€ μ”μ²­ν• μμ›μ΄ λ‹¤λ¥Έ κ³³μ— μμ„ λ•, ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ„ λ‹¤λ¥Έ κ³³μΌλ΅ μ΄λ™μ‹ν‚¤λ” κ²ƒ

    <img src="../img/redirection.png" height=250>

<br>

### π’΅ 400λ²λ€

- ν΄λΌμ΄μ–ΈνΈ μ—λ¬ μƒνƒ μ½”λ“

    <img src="../img/status400.png" height=150>

<br>

### π’΅ 500λ²λ€

- μ„λ²„ μ—λ¬ μƒνƒ μ½”λ“

    <img src="../img/status500.png" height=100>
