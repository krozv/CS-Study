# HTTP κΈ°λ° κΈ°μ 

## μΊμ‹

- μ‘λ‹µ λ°›μ€ μμ›μ **μ‚¬λ³Έ**μ„ μ„μ‹ μ €μ¥ν•λ” κΈ°μ 
- μ¶”ν›„ λ™μΌν• μ”μ²­μ— λ€ν•΄ μΊμ‹λ λ°μ΄ν„°λ¥Ό ν™μ©ν•  μ μλ‹¤.
- μΊμ‹λ λ°μ΄ν„°λ” μ–Όλ§λ“ μ§€ μ›λ³Έ λ°μ΄ν„°μ™€ λ‹¬λΌμ§ μ μλ‹¤.
- **μΊμ‹ μ‹ μ„ λ„**μ κ²€μ‚¬μ™€ μ μ§€ ν•„μ”

#### μ¥μ 

- λ¶ν•„μ”ν• λ€μ—­ν­ λ°©μ§€
- μ‘λ‹µ μ§€μ—° λ°©μ§€
- λΉ λ¥Έ μμ› μ ‘κ·Ό κ°€λ¥

#### κ°μΈ μ „μ© μΊμ‹

    μ›Ή λΈλΌμ°μ €μ— μ €μ¥

#### κ³µμ© μΊμ‹

    ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ μ‚¬μ΄μ— μ„μΉν• μ¤‘κ°„ μ„λ²„μ— μ €μ¥

#### μΊμ‹ μ‹ μ„ λ„(Cache Freshness)

    μΊμ‹λ μ‚¬λ³Έ λ°μ΄ν„°κ°€ μ–Όλ§λ‚ μµμ‹  μ›λ³Έ λ°μ΄ν„°μ™€ μ μ‚¬ν•μ§€λ¥Ό ν‘ν„

<br>

### π’΅ μΊμ‹ μ‹ μ„ λ„ κ²€μ‚¬ - μ ν¨ κΈ°κ°„ μ„¤μ •

- κΈ°κ°„μ΄ λ§λ£λμ—λ‹¤λ©΄ μ›λ³Έ λ°μ΄ν„°λ¥Ό λ‹¤μ‹ μ”μ²­
- μ‘λ‹µ λ©”μ‹μ§€μ `Expires` ν—¤λ”(λ‚ μ§)μ™€ `Cache-Control` ν—¤λ”μ `Max-Age` κ°’(μ΄)μ„ μ‚¬μ©

<br>

### π’΅ μΊμ‹ μ‹ μ„ λ„ μ¬κ²€μ‚¬ - λ‚ μ§ κΈ°λ°

#### ν΄λΌμ΄μ–ΈνΈμ `If-Modified-Since` ν—¤λ”

- λ‚ μ§λ¥Ό κΈ°λ°μΌλ΅ μ„λ²„μ—κ² λ¬Όμ–΄λ³΄λ” λ°©λ²•
- ν—¤λ”μ— λ…μ‹λ μ‹μ  μ΄ν›„λ΅ μ›λ³Έμ— λ³€κ²½μ΄ μμ—λ‹¤λ©΄ κ·Έλ•λ§ μƒ μμ›μΌλ΅ μ‘λ‹µν•λ„λ΅ μ„λ²„μ—κ² μ”μ²­ν•λ” ν—¤λ”

#### μ„λ²„μ `Last-Modified` ν—¤λ”

- μƒνƒ μ½”λ“ 304λ¥Ό ν†µν• μμ›μ 'λ³€κ²½ μ—¬λ¶€' λΏλ§ μ•„λ‹λΌ μμ›μ΄ λ§μ§€λ§‰μΌλ΅ μμ •λ μ‹μ λ„ μ•λ ¤μ¤„ μ μλ‹¤.

<br>

### π’΅ μΊμ‹ μ‹ μ„ λ„ μ¬κ²€μ‚¬ - Entity Tag κΈ°λ°

#### ν΄λΌμ΄μ–ΈνΈμ `If-None-Match` ν—¤λ”

- μ—”ν‹°ν‹° νƒκ·Έλ¥Ό κΈ°λ°μΌλ΅ μ„λ²„μ—κ² λ¬Όμ–΄λ³΄λ” λ°©μ‹
- Etagλ” 'μμ›μ λ²„μ „'μ„ μ‹λ³„ν•κΈ° μ„ν• μ •λ³΄
- λ²„μ „μ΄λ€ 'μ μλ―Έν• λ³€κ²½ μ‚¬ν•­'
- μ¦‰, μμ›μ΄ λ³€κ²½λ  λ•λ§λ‹¤ μμ›μ λ²„μ „μ„ μ‹λ³„ν•λ” Etag κ°’ λ³€κ²½
  - μμ›μ΄ λ³€κ²½λμ—λ‹¤λ©΄ μƒ μμ›μΌλ΅ μ‘λ‹µ
- λ°λ€λ΅ μμ›μ΄ λ³€κ²½λμ§€ μ•μ•λ‹¤λ©΄ Etag κ°’λ„ λ³€κ²½λμ§€ μ•λ”λ‹¤.
  - μ„λ²„λ” 304 μ‘λ‹µ μ½”λ“ λ°ν™

<br>

## μΏ ν‚¤

- μ„λ²„μ—μ„ μƒμ„±λμ–΄ ν΄λΌμ΄μ–ΈνΈ μΈ΅μ— μ €μ¥λλ” λ°μ΄ν„°
- μƒνƒλ¥Ό μ μ§€ν•μ§€ μ•λ” HTTμ νΉμ„±μ„ λ³΄μ™„ν•κΈ° μ„ν• μλ‹¨
- κΈ°λ³Έμ μΌλ΅ `<μ΄λ¦„, κ°’>` μμ ν•νƒ
- μ¶”κ°€λ΅ λ‹¤μ–‘ν• μ†μ„±μ„ κ°€μ§ μ μλ‹¤.
- μ„λ²„λ” μΏ ν‚¤λ¥Ό μƒμ„±ν•μ—¬ ν΄λΌμ΄μ–ΈνΈμ—κ² μ „μ†΅
- ν΄λΌμ΄μ–ΈνΈλ” μ „λ‹¬λ°›μ€ μΏ ν‚¤λ¥Ό μ €μ¥ν•΄ λ‘μ—λ‹¤κ°€ μ¶”ν›„ μ”μ²­ λ©”μ‹μ§€μ— μΏ ν‚¤λ¥Ό ν¬ν•¨ν•μ—¬ μ „μ†΅
- μ”μ²­μ΄ κ°™μ€ ν΄λΌμ΄μ–ΈνΈμ—μ„ μ™”λ”μ§€ λ΅κ·ΈμΈ μƒνƒλ¥Ό μ μ§€ν•κ³  μλ”μ§€ λ“±μ„ μ• μ μλ‹¤.
- μΏ ν‚¤λ” λΈλΌμ°μ €μ—μ„ μ €μ¥λκ³  κ΄€λ¦¬

<br>

### π’΅ μ„Έμ… μΈμ¦

1. ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ—κ² μΈμ¦ μ •λ³΄(μ•„μ΄λ””, λΉ„λ°€λ²νΈ λ“±)λ¥Ό μ „μ†΅
2. μΈμ¦ μ •λ³΄κ°€ μ¬λ°”λ¥΄λ‹¤λ©΄, μ„λ²„λ” μ„Έμ… μ•„μ΄λ””λ¥Ό μƒμ„±ν•΄ ν΄λΌμ΄μ–ΈνΈμ—κ² μ „μ†΅
3. μ„λ²„λ” μƒμ„±ν• μ„Έμ… μ•„μ΄λ””λ¥Ό λ°μ΄ν„°λ² μ΄μ¤ λ“±μ— μ €μ¥
4. ν΄λΌμ΄μ–ΈνΈλ” μ¶”ν›„ μ”μ²­μ„ λ³΄λ‚Ό λ• μΏ ν‚¤ λ‚΄μ— μ„Έμ… μ•„μ΄λ””λ¥Ό ν¬ν•¨ν•μ—¬ μ „μ†΅
5. μ„λ²„λ” μΏ ν‚¤ μ† μ„Έμ… μ•„μ΄λ””μ™€ μ €μ¥λ μ„Έμ… μ•„μ΄λ””λ¥Ό λΉ„κµν•μ—¬ ν΄λΌμ΄μ–ΈνΈλ¥Ό μ‹λ³„
   => μ”μ²­μ„ λ³΄λ‚Ό λ•λ§λ‹¤ λ²κ±°λ΅μ΄ μΈμ¦ κ³Όμ •μ„ κ±°μΉ  ν•„μ”κ°€ μ—†λ‹¤.

<br>

### π’΅ μ„λ²„μ μΏ ν‚¤ μƒμ„±

- μ„λ²„λ” μ‘λ‹µ λ©”μ‹μ§€μ `Set-Cookie` ν—¤λ”λ¥Ό ν†µν•΄ μƒμ„±λ μΏ ν‚¤λ¥Ό λ°›λ”λ‹¤.
- ν΄λΌμ΄μ–ΈνΈλ” μ”μ²­ λ©”μ‹μ§€μ `Cookie` ν—¤λ”λ¥Ό ν†µν•΄ μΏ ν‚¤λ¥Ό μ „λ‹¬ν•λ‹¤.

#### μ‘λ‹µ λ©”μ‹μ§€μ `Set-Cookie` ν—¤λ”

- μΏ ν‚¤μ μ΄λ¦„, κ°’κ³Ό λ”λ¶μ–΄ μ„Έλ―Έμ½λ΅ (;)μΌλ΅ κµ¬λ¶„λλ” μ†μ„±λ“¤μ„ μ „λ‹¬
- ν• μ‘λ‹µ λ©”μ‹μ§€μ— μ „λ‹¬ν•  μΏ ν‚¤κ°€ μ—¬λ¬ κ°λΌλ©΄ μ—¬λ¬ κ°μ Set-Cookieλ΅ μ „λ‹¬

#### μ”μ²­ λ©”μ‹μ§€μ `Cookie` ν—¤λ”

- μ„λ²„μ— μ „λ‹¬ν•  μΏ ν‚¤μ μ΄λ¦„κ³Ό κ°’μ„ λ‚νƒ€λ‚΄λ” ν—¤λ”
- μ—¬λ¬ κ°μ μΏ ν‚¤ κ°’μ„ μ„λ²„μ— μ „λ‹¬ν•΄μ•Ό ν•  λ•λ” μ„Έλ―Έ μ½λ΅ μ„ μ‚¬μ©

<br>

### π’΅ μΏ ν‚¤μ μ†μ„±

#### domain

- μΏ ν‚¤λ” μ‚¬μ© κ°€λ¥ν• λ„λ©”μΈμ΄ μ •ν•΄μ Έ μλ‹¤.
- μ‘λ‹µ λ©”μ‹μ§€ μ† `Set-Cookie` ν—¤λ”μ **domain** μ†μ„±μΌλ΅ μ •ν•λ‹¤.

#### path

- κ°™μ€ λ„λ©”μΈμ΄λΌλ„ κ²½λ΅λ³„λ΅ μΏ ν‚¤λ¥Ό κµ¬λ¶„ν•μ—¬ μ‚¬μ©ν•κ³  μ‹¶μ€ κ²½μ°
- **path** μ†μ„±μΌλ΅ μΏ ν‚¤κ°€ μ μ©λ  κ²½λ΅λ¥Ό λ…μ‹
- μ§€μ •λ κ²½λ΅ + ν•μ„ κ²½λ΅μ—μ„ ν¬ν‚¤ ν™μ©

#### μ ν¨ κΈ°κ°„

- **Expires** μ†μ„±μ„ ν†µν•΄ μΏ ν‚¤ λ§λ£ μ‹μ  μ§€μ •
- **Max-Age** μ†μ„±μ„ ν†µν•΄ μ΄ λ‹¨μ„ μ ν¨ κΈ°κ°„ μ§€μ •

<br>

### π’΅ μΏ ν‚¤μ λ³΄μ•

- μΏ ν‚¤μ λ€ν‘μ μΈ ν•κ³„λ” λ³΄μ•
- μΏ ν‚¤ μ •λ³΄λ” μ‰½κ² λ…Έμ¶λκ±°λ‚ μ΅°μ‘λ  μ μλ‹¤.

#### Secure

    HTTPS ν”„λ΅ν† μ½μ΄ μ‚¬μ©λλ” κ²½μ°μ—λ§ μΏ ν‚¤ μ „μ†΅

#### HttpOnly

    HTTP μ†΅μμ‹ μ„ ν†µν•΄μ„λ§ μΏ ν‚¤λ¥Ό μ΄μ©ν•λ„λ΅ μ ν•ν•λ” μ†μ„±
    μΏ ν‚¤ κ΄€λ ¨ λ°μ΄ν„°λ” JS μ–Έμ–΄λ¥Ό ν†µν•΄μ„λ„ μ ‘κ·Ό κ°€λ¥
    HttpOnlyλ” JSμ—μ„ μΏ ν‚¤μ— μ ‘κ·Όν•μ§€ λ»ν•λ„λ΅ ν•λ” μ†μ„±

<br>

### π’΅ μ›Ή μ¤ν† λ¦¬μ§€(web storage)

- ν΄λΌμ΄μ–ΈνΈκ°€ μ €μ¥ν•κ³  ν΄λΌμ΄μ–ΈνΈμ μƒνƒλ¥Ό μ¶”μΈ΅ν•  μ μλ” <ν‚¤-κ°’> μ ν•νƒμ μ •λ³΄
- μ›Ή λΈλΌμ°μ € λ‚΄μ— μ €μ¥
- μΌλ°μ μΌλ΅ μΏ ν‚¤λ³΄λ‹¤ λ” ν° λ°μ΄ν„° μ €μ¥ κ°€λ¥
- ν¬ν‚¤λ” μ„λ²„λ΅ μλ™ μ „μ†΅λμ§€λ§, μ›Ή μ¤ν† λ¦¬μ§€μ μ •λ³΄λ” μ„λ²„λ΅ μλ™ μ „μ†΅λμ§€ μ•λ”λ‹¤.

#### λ΅μ»¬ μ¤ν† λ¦¬μ§€

    λ³„λ„λ΅ μ‚­μ ν•μ§€ μ•λ” ν• μκµ¬μ μΌλ΅ μ €μ¥μ΄ κ°€λ¥ν• μ •λ³΄

#### μ„Έμ… μ¤ν† λ¦¬μ§€

    μ„Έμ…μ΄ μ μ§€λλ” λ™μ• μ μ§€λλ” μ •λ³΄

<br>

## μ½ν…μΈ  ν‘μƒ

- κ°™μ€ URIμ— λ€ν•΄ ν΄λΌμ΄μ–ΈνΈμ—κ² κ°€μ¥ μ ν•©ν• '**μμ›μ ν‘ν„**'λ¥Ό μ κ³µν•λ” λ©”μ»¤λ‹μ¦

#### μμ›μ ν‘ν„

    μ†΅μμ‹  κ°€λ¥ν• μμ›μ ν•νƒ

<br>

### π’΅ μ½ν…μΈ  ν‘μƒ κ΄€λ ¨ HTTP ν—¤λ”

#### Accept ν—¤λ”

    μ„ νΈν•λ” λ―Έλ””μ–΄ νƒ€μ…

#### Accept-Language

    μ„ νΈν•λ” μ–Έμ–΄

#### Accept-Charset λ° Accept-Encoding

    μ„ νΈν•λ” λ¬Έμ μΈμ½”λ”©κ³Ό μ••μ¶• λ°©μ‹

<br>

### π’΅ μ„ νΈλ„μ— μ°μ„ μμ„ λ°μ

- μ°μ„ μμ„λ” μ½ν…μΈ  ν‘μƒ κ΄€λ ¨ ν—¤λ”μ qκ°’μΌλ΅ ν‘ν„
- κ°’μ΄ ν΄μλ΅ μ°μ„ μμ„κ°€ λ†’λ‹¤.
- μƒλµλμ—μ„ κ²½μ°μ—λ” 1μ„ μλ―Έ
- λ²”μ„: 0 ~ 1
