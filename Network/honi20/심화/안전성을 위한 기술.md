# μ•μ „μ„±μ„ μ„ν• κΈ°μ 

### π’΅ μ•”νΈν™”(encrypt)μ™€ λ³µνΈν™”(drecrpyt)

- ν•µμ‹¬μ€ ν‚¤(key)
- ν‚¤μ— μν•™μ  μ—°μ‚°(= μ•”νΈν™” μ•κ³ λ¦¬μ¦)μ„ κ±°μΉλ©΄ μ•”νΈλ¬Έ μƒμ„±

<br>

## λ€μΉ­ ν‚¤ μ•”νΈν™”(symmetric-key cryptography)

<img src="../img/skc.png" height=150>

- μ•”νΈν™”μ™€ λ³µνΈν™”μ— λ™μΌν• ν‚¤λ¥Ό μ‚¬μ©ν•λ” λ°©μ‹
- λ™μΌν• ν‚¤λ¥Ό μ‚¬μ©ν•λ―€λ΅ ν‚¤κ°€ μ μ¶λλ©΄ ν° λ¬Έμ  λ°μƒ
- λ”°λΌμ„ λ‹Ήμ—°ν•κ²λ„ ν‚¤λ¥Ό μ•μ „ν•κ² μƒλ€λ°©μ—κ² μ „λ‹¬ν•΄μ•Ό ν•¨

#### μ¥μ 

- μ μ€ λ¶€ν•
- λΉ λ¥Έ μ•”νΈν™” λ° λ³µνΈν™” μν–‰ κ°€λ¥

#### λ‹¨μ 

- ν‚¤λ¥Ό μ•μ „ν•κ² μ „μ†΅ν•κΈ° μ–΄λ µ

<br>

## κ³µκ° ν‚¤ μ•”νΈν™”(public-key cryptography)

<img src="../img/pkc.png" height=150>

- = λΉ„λ€μΉ­ ν‚¤ μ•”νΈν™”
- μ•”νΈν™”μ— μ‚¬μ©λλ” ν‚¤μ™€ λ³µνΈν™”μ— μ‚¬μ©λλ” ν‚¤κ°€ λ‹¤λ¥΄λ‹¤.
- ν• μμ ν‚¤(κ³µκ° ν‚¤, κ°μΈ ν‚¤)λ¥Ό μ‚¬μ©
- ν• ν‚¤λ΅ μ•”νΈν™”λ¥Ό, λ‹¤λ¥Έ ν‚¤λ΅ λ³µνΈν™”
- κ³µκ° ν‚¤λ¥Ό μ•μ•„λ„ κ°μΈ ν‚¤ μ μ¶” λ¶κ°€λ¥. μ—­λ„ λ§μ°¬κ°€μ§€

#### μ¥μ 

- μ•μ „ν• ν‚¤ κ³µμ  κ°€λ¥

#### λ‹¨μ 

- λ†’μ€ λ¶€ν•
- λλ¦° μ•”νΈν™” λ° λ³µνΈν™”

### π’΅ A -> Bμ—κ² "hi" μ „μ†΅ κ³Όμ •

1. Aκ°€ Bμ κ³µκ°ν‚¤ μ”μ²­, Bλ” Aμ—κ² κ³µκ°ν‚¤ μ „λ‹¬
2. Aλ” Bμ κ³µκ°ν‚¤λ΅ "hi" μ•”νΈν™”. μ•”νΈν™”λ λ°μ΄ν„° μ „λ‹¬
3. μ•”νΈλ¬Έμ΄κΈ° λ•λ¬Έμ— μ  3μκ°€ μ΄λ¥Ό λ³΄μ•„λ„ μ΄ν•΄ν•  μ μ—†λ‹¤.
4. Bλ” κ°μΈν‚¤λ΅ λ³µνΈν™”

<br>

## μ„Έμ… ν‚¤(session key)

<img src="../img/sk.png" height=150>

- λ€μΉ­ ν‚¤λ¥Ό κ³µκ° ν‚¤λ΅ μ•”νΈν™”ν•κ³  κ°μΈ ν‚¤λ΅ μ•”νΈν™”λ λ€μΉ­ν‚¤λ¥Ό λ³µνΈν™”
- μ•μ „ν• λ€μΉ­ ν‚¤ κ³µμ  κ°€λ¥
- λΉ λ¥Έ λ€μΉ­ν‚¤ κΈ°λ° μ•”νΈν™”/λ³µνΈν™” κ°€λ¥

<br>

## μΈμ¦μ„(certificate)

- λ¬΄μ—‡μΈκ°€λ¥Ό μ¦λ…ν•κΈ° μ„ν• λ¬Έμ„
- λ„¤νΈμ›ν¬(μΈν„°λ„·)μ—μ„μ μΈμ¦μ„ = κ³µκ° ν‚¤ μΈμ¦μ„

#### κ³µκ° ν‚¤ μΈμ¦μ„(public key certificate)

    κ³µκ° ν‚¤μ™€ κ³µκ° ν‚¤μ μ ν¨μ„±μ„ μ…μ¦ν•κΈ° μ„ν• μ „μ λ¬Έμ„

#### μΈμ¦ κΈ°κ΄€(CA, Certification Authority)

    μΈμ¦μ„μ λ°κΈ‰, κ²€μ¦, μ €μ¥κ³Ό κ°™μ€ μ—­ν• μ„ μν–‰ν•  μ μλ” κ³µμΈ κΈ°κ΄€
    (IdenTrust, DigiCert, GlobalSign λ“±)

#### μ„λ… κ°’(signature)

    μΈμ¦ κΈ°κ΄€μ μΈμ¦ μ •λ³΄
    ν΄λΌμ΄μ–ΈνΈλ” CAκ°€ λ°κΈ‰ν• μΈμ¦μ„μ μ„λ… κ°’μ„ λ°”νƒ•μΌλ΅ μΈμ¦μ„λ¥Ό κ²€μ¦

<br>

### π’΅ μ„λ… κ°’ μƒμ„±μ μ›λ¦¬

- μΈμ¦μ„ λ‚΄μ©μ— λ€ν• ν•΄μ‹ κ°’μ„ CAμ κ°μΈ ν‚¤λ΅ μ•”νΈν™”ν•λ” λ°©μ‹μΌλ΅ μƒμ„±
- CAλ” μ΄λ ‡κ² μ–»μ–΄λ‚Έ μ •λ³΄λ¥Ό μ„λ…κ°’μΌλ΅ μ‚Όμ•„ ν΄λΌμ΄μ–ΈνΈμ—κ² μΈμ¦μ„μ™€ ν•¨κ» μ „μ†΅

    <img src="../img/signature.png" height=200>

<br>

### π’΅ ν•΄μ‹ κ°’

- ν•΄μ‹ ν•¨μλ¥Ό μ μ©μ‹ν‚¨ κ²°κ³Όκ°’
- λ°μ΄ν„° λ³€μ΅° μ—¬λ¶€ κ²€μ‚¬μ— μ‚¬μ©

#### ν•΄μ‹ ν•¨μ

- μ„μμ κΈΈμ΄μ λ°μ΄ν„°λ¥Ό **κ³ μ •λ κΈΈμ΄μ λ°μ΄ν„°**λ΅ λ³€ν™ν•λ” ν•¨μ
- MD5, SHA-1, SHA-2(SHA-256, SHA-384, SHA-512) λ“±
- μ…λ ¥κ°’μ— λ―Όκ° -> μ…λ ¥ λ°μ΄ν„°κ°€ μ΅°κΈλ§ λ‹¬λΌμ Έλ„ μ™„μ „ν λ‹¤λ¥Έ κ²°κ³Όκ°€ λ‚μ¨λ‹¤.

#### λ°μ΄ν„° λ³€μ΅° μ—¬λ¶€ κ²€μ‚¬ κ³Όμ •

1. `λ³΄λ‚Ό λ°μ΄ν„° + λ°μ΄ν„°μ— λ€ν• ν•΄μ‹κ°’`μ„ ν•¨κ» μ „μ†΅
2. μμ‹ μκ°€ μ „λ‹¬λ°›μ€ λ°μ΄ν„°μ— λ€ν• ν•΄μ‹κ°’μ„ μ§μ ‘ κ³„μ‚°
3. κ³„μ‚° κ²°κ³Όλ¥Ό μ „λ‹¬λ°›μ€ ν•΄μ‹κ°’κ³Ό λΉ„κµ
4. κ°™μ€ κ°’μ΄ λ„μ¶λλ‹¤λ©΄ λ°μ΄ν„° μ „μ†΅ λ„μ¤‘ λ³€μ΅°λκ±°λ‚ μ†μ‹¤λμ§€ μ•μ•λ‹¤κ³  νλ‹¨

<br>

### π’΅ μΈμ¦μ„ κ²€μ¦ κ³Όμ •

<img src="../img/digital_signature.png" height=250>

1. μ„λ… κ°’κ³Ό μΈμ¦μ„ λ¶„λ¦¬
2. μ„λ… κ°’μ„ CAμ κ³µκ° ν‚¤λ΅ λ³µνΈν™”ν•μ—¬ **μΈμ¦μ„ λ‚΄μ©μ— λ€ν• ν•΄μ‹ κ°’**μ„ μ–»λ”λ‹¤.
3. μΈμ¦μ„ λ°μ΄ν„°μ— λ€ν• ν•΄μ‹ κ°’μ„ μ§μ ‘ κ³„μ‚°
4. μ΄λ¥Ό λ³µνΈν™”ν• κ°’κ³Ό λΉ„κµ  
   => κ°’μ΄ μΌμΉν•λ‹¤λ©΄ μ „λ‹¬λ°›μ€ μΈμ¦μ„λ” ν™•μ‹¤ν CAμ κ°μΈ ν‚¤λ΅ λ§λ“¤μ–΄μ΅λ‹¤κ³  λ³΄μ¥

#### λ””μ§€ν„Έ μ„λ…

    κ°μΈ ν‚¤λ΅ μ•”νΈν™”λ λ©”μ‹μ§€λ¥Ό κ³µκ° ν‚¤λ΅ λ³µνΈν™”ν•¨μΌλ΅μ¨ μ‹ μ›μ„ μ¦λ…ν•λ” μ μΉ

<br>

## HTTPS(HTTP over TLS)

- SSL/TLSλ¥Ό μ‚¬μ©ν•λ” λ€ν‘μ μΈ ν”„λ΅ν† μ½
- HTTP λ©”μ‹μ§€μ μ•μ „ν• μ†΅μμ‹ μ„ μ„ν•΄ κ°λ°λ ν”„λ΅ν† μ½

#### HTTPS λ©”μ‹μ§€ μ†΅μμ‹  λ‹¨κ³„

1. TCP μ“°λ¦¬ μ›¨μ΄ ν•Έλ“μ…°μ΄ν¬
2. TLS ν•Έλ“μ…°μ΄ν¬
3. μ•”νΈν™”λ λ©”μ‹μ§€ μ†΅μμ‹ 

### π’΅ SSL(Secure Sockets Layer)κ³Ό TLS(Transport Layer Security)

- μΈμ¦κ³Ό μ•”νΈν™”λ¥Ό μν–‰ν•λ” ν”„λ΅ν† μ½
- TLSκ°€ SSLμ„ κ³„μΉν• ν”„λ΅ν† μ½λ΅, μ‘λ™ κ³Όμ •μ€ ν° λ“¤μ—μ„ λ³΄λ©΄ μ μ‚¬
- μ΄κΈ° SSL 2.0κ³Ό SSL 3.0μ„ κ±°μ³ TLS 1.0, TLS 1.1, TLS 1.2, **TLS 1.3**μ΄ μμ°¨μ μΌλ΅ μ¶μ‹

<br>

## TLS ν•Έλ“μ…°μ΄ν¬

- μ•”νΈν™” ν†µμ‹ μ„ μ„ν• ν‚¤ κµν™
- μΈμ¦μ„ μ†΅μμ‹ κ³Ό κ²€μ¦μ΄ μ΄λ£¨μ–΄μ§€λ” λ‹¨κ³„

    <img src="../img/tls.png" height=250>

### π’΅ ν‚¤ κµν™

- ClientHelloμ™€ ServerHelloλ¥Ό μ£Όκ³ λ°›μΌλ©΄ μ•”νΈν™” ν†µμ‹ γ…‡λ¥΄ μ„ν•΄ μ‚¬μ „ ν‘μν•΄μ•Ό ν•  μ •λ³΄λ“¤μ΄ κ²°μ •λλ‹¤.
- μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈλ” μ•”νΈν™”μ— μ‚¬μ©ν•  ν‚¤λ¥Ό μƒμ„±

#### ν΄λΌμ΄μ–ΈνΈμ **ClientHello** λ©”μ‹μ§€

- μ•”νΈν™”λ ν†µμ‹ μ„ μ„ν•΄ μ„λ΅ λ§μ¶° λ΄μ•Ό ν•  μ •λ³΄λ“¤μ„ μ μ‹ν•λ” λ©”μ‹μ§€
- μ§€μ› TLS λ²„μ „, μ‚¬μ© κ°€λ¥ν• μ•”νΈν™” μ•κ³ λ¦¬μ¦κ³Ό ν•΄μ‹ ν•¨μ, ν‚¤ μƒμ„±μ— ν•„μ”ν• λ‚μ λ“±μ΄ ν¬ν•¨

#### μ„λ²„μ **ServerHello** λ©”μ‹μ§€

- μ μ‹λ μ •λ³΄λ“¤μ„ μ„ νƒν•λ” λ©”μ‹μ§€
- μ„ νƒλ TLS λ²„μ „, μ‚¬μ© κ°€λ¥ν• μ•”νΈν™” μ•κ³ λ¦¬μ¦κ³Ό ν•΄μ‹ ν•¨μ, ν‚¤ μƒμ„±μ— ν•„μ”ν• λ‚μ λ“±μ΄ ν¬ν•¨

#### μ•”νΈ μ¤μ„νΈ(cipher suite)

    μ‚¬μ© κ°€λ¥ν• μ•”νΈν™” λ°©μ‹κ³Ό ν•΄μ‹ ν•¨μλ¥Ό λ‹΄μ€ μ •λ³΄

<br>

### π’΅ μΈμ¦μ„ λ° μΈμ¦μ„ κ²€μ¦

- μ„λ²„λ” Certificate λ©”μ‹μ§€μ™€ CertificateVerify λ©”μ‹μ§€ μ „μ†΅
- κ°κ° μΈμ¦μ„μ™€ κ²€μ¦μ„ μ„ν• λ””μ§€ν„Έ μ„λ…
- ν΄λΌμ΄μ–ΈνΈλ” μ΄ λ©”μ‹μ§€λ¥Ό ν† λ€λ΅ μ„λ²„μ κ³µκ° ν‚¤ κ²€μ¦

<br>

### π’΅ TLS ν•Έλ“μ…°μ΄ν¬ λ§λ¬΄λ¦¬, μ•”νΈν™” ν†µμ‹  μν–‰

- μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈλ” TLS ν•Έλ“μ…°μ΄ν¬μ λ§μ§€λ§‰μ„ μλ―Έν•λ” Finished λ©”μ‹μ§€λ¥Ό μ£Όκ³  λ°›μ
- μ£Όκ³ λ°›μ€ ν‚¤λ¥Ό λ°”νƒ•μΌλ΅ μ•”νΈν™” λ°μ΄ν„°(Application Data)λ¥Ό μ£Όκ³  λ°›μ
