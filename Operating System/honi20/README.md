# Operating System

## Contents

### Operating System 1

- 운영체제 개요
- 컴퓨터시스템의 구조
- 프로세스 관리
- CPU 스케줄링
- 병행 제어

### Operating System 2

- 데드락
- 메모리 관리
- 가상 메모리
- 파일시스템
- 입출력 시스템

## Questions

[참고1](https://hoons-dev.tistory.com/95)  
[참고2](https://suhyunsim.github.io/2023-03-14/%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C-%EB%A9%B4%EC%A0%91%EC%A7%88%EB%AC%B8)

## 운영체제 개요

### 1. 운영체제란?

> 운영체제란 컴퓨터 하드웨어 바로 위에 설치되어 사용자 및 다른 모든 소프트웨어와 하드웨어를 연결하는 소프트웨어 계층입니다.

#### 운영체제의 목적은?

> 컴퓨터 시스템을 편리하게 사용할 수 있는 환경을 제공하고, 컴퓨터 시스템의 자원을 효율적으로 관리하는 목적을 가지고 있습니다.

<br>

## 컴퓨터시스템의 구조

### 1. 메모리 구조에 대해 설명해주세요.

> 메모리 구조는 코드, 데이터, 스택, 힙 영역으로 나뉩니다.
>
> 코드 영역은 함수, 제어문, 상수 등 실행 파일을 구성하는 명령어들이 올라가는 영역입니다.  
> 데이터 영역은 전역 변수와 정적 변수가 할당되는 영역입니다.  
> 스택 영역은 함수 호출 시 생성되는 지역 변수와 매개 변수가 저장되는 영역입니다.  
> 힙 영역은 참조형 데이터 타입을 갖는 객체, 배열 등이 저장되는 공간입니다.

#### 메모리의 힙 영역과 스택 영역의 차이점

> 힙 영역은 사용자에 의해 메모리 공간이 동적으로 할당되고 해제되기 때문에 런타임 시 크기가 결정됩니다. 메모리의 낮은 주소부터 할당되는 선입선출 구조를 가집니다.
>
> 스택 영역은 프로그램이 컴파일 타임에 크기가 결정됩니다. 메모리의 높은 주소부터 할당되는 후입선출 구조를 가집니다.

#### 메모리의 힙 영역을 크게 잡을 때 생기는 문제점

> 응용 프로그램이 종료될 때까지 메모리가 유지되기 때문에 사용하고 난 후 반드시 메모리 해제를 해주어야 합니다. 만약 메모리 힙 영역이 크다면, 넓은 힙 영역에 존재하는 동적 변수에 대해 참조 여부를 확인해야 하기 때문에 Garbage Collection 수행 시간이 너무 길어지는 문제가 발생합니다.

#### 가비지 컬렉션이란

> 메모리 관리 기법 중 하나로, 동적 할당된 메모리 영역 가운데 더 이상 사용할 수 없게 된 영역을 탐지하여 자동으로 해제하는 기법입니다.

### 2. 커널이란?

> 커널이란 OS의 핵심 부분으로 사용자와 실행 프로그램을 위해 매우 빈번하게 사용되는 부분입니다. 컴퓨터 처음 부팅 시 주기억 장치에 적재되고, 시스템의 운영이 종료될 때까지 주기억장치에 남아있습니다.

### 3. 인터럽트란?

> 인터럽트란 프로세스 실행 도중 예기치 않은 상황이 발생할 때 발생한 상황을 처리한 후 실행 중인 작업으로 복귀하는 것을 의미합니다.
>
> 하드웨어 인터럽트란 통상적인 인터럽트로, 컨트롤러 등 하드웨어 장치가 발생시킨 인터럽트입니다.  
> 소프트웨어 인터럽트란 트랩이라고도 불리며, 주로 Exception이나 System Call과 같은 상황에서 발생하는 인터럽트입니다.

### 4. 시스템 콜이란?

> 시스템 콜이란 사용자 프로그램이 OS의 서비스를 받기 위해 커널 함수를 호출하는 것입니다.

### 5. DMA란?

> DMA란 빠른 입출력 장치를 메모리에 가까운 속도로 처리하기 위해 사용하는 방식입니다. CPU의 중재 없이 디바이스 컨트롤러가 디바이스의 버퍼 스토리지의 내용을 메모리에 블록 단위로 직접 전송합니다.

<br>

## 프로세스 관리

### 1. Process와 Thread란?

> 프로세스는 메모리에 적재되어 실행되는 프로그램입니다. PCB, code, data, heap, stack 영역을 갖습니다.
>
> 스레드는 프로세스 내부에서 동작하는 흐름의 단위입니다. 별도의 stack 영역만 갖고, 나머지 영역에 대해서는 해당 쓰레드의 프로세스 자원을 공유합니다.

#### 차이점

> 프로세스는 각각의 영역을 갖기 때문에 동기화 작업이 필요하지 않지만, 스레드는 스택 영역 외부의 공유 자원에 대한 접근 시 동기화 작업이 필요합니다.
>
> 프로세스는 한 프로세스에 오류가 생기더라도 다른 프로세스에 영향을 주지 않지만, 스레드는 한 스레드에서 오류가 생기면 프로세스 내의 나머지 스레드에 영향을 줄 수 있습니다.

### 2. 크롬 브라우저에서 한 탭에 오류가 생기더라도, 다른 탭에 영향을 끼치지 않습니다. 그렇다면 각각의 크롬 탭은 프로세스일까요? 쓰레드일까요?

> 크롬 탭은 프로세스입니다. 쓰레드의 경우, 한 쓰레드에서 오류가 발생하면 다른 쓰레드에 영향을 미치는 특성이 있습니다. 그렇기 때문에 다른 탭에 영향을 끼치지 않는다는 점에서 크롬 탭은 프로세스입니다.

### 3. 쓰레드마다 독립적으로 할당하는 2가지는?

> 스레드는 스택 영역과 PC가 독립적으로 할당됩니다.

#### 독립적으로 할당하는 이유는?

> 스택은 지역변수, 매개변수, 리턴 값 등을 저장하는 메모리 공간입니다. 따라서 독립적인 함수 호출을 위해서는 독립적인 스택 메모리 공간이 필요합니다. 스레드는 독립적인 실행 흐름이므로 독립된 스택을 할당해야 합니다.
>
> PC값은 스레드가 실행할 다음 명령어를 나타냅니다. 스레드는 CPU를 할당받았다가 스케줄러에 의해 다시 반환해야 할 수 있습니다. 따라서 처음부터 끝까지 연속적으로 수행되지 못하므로 어느 부분까지 수행했는지 기억할 필요가 있기 때문에 PC 레지스터를 독립적으로 할당해야 합니다.

### 4. Multi-Process와 Multi-Thread란?

> 멀티 프로세스는 OS에서 하나의 응용 프로그램에 대해 동시에 여러 개의 프로세스를 병렬적으로 수행하는 것입니다.
>
> 멀티 스레드는 하나의 프로세스 안에 여러 개의 스레드가 존재하여 자원을 공유하며 작업을 수행하는 것입니다.

#### 장단점

> 멀티 프로세스는 다른 프로세스에 영향을 주지 않는다는 안전성과 시스템 확장성이라는 장점이 있습니다. 하지만 컨텍스트 스위칭 오버해드가 발생할 수 있다는 점과 자원 공유가 비효율적이라는 단점이 존재합니다.
>
> 멀티 쓰레드는 스레드 간 자원을 공유한다는 자원 효율성이 좋고, 컨텍스트 스위칭 비용이 낮다는 장점이 있습니다. 하지만 다른 스레드에 영향을 받는다는 안정성 문제가 존재하고, 동기화로 인한 병목현상으로 성능이 저하될 가능성이 높다는 단점이 있습니다.

#### 언제 사용되는지

> 독립적 메모리와 안정적인 운영이 필요한 경우 멀티 프로세스가 유리합니다. 예를 들어, 아파치 웹 서버나 MySQL 데이터베이스 서버에서는 각 클라이언트 요청을 독립적인 프로세스로 처리합니다.
>
> 메모리 공유가 필요하고 간단한 작업인 경우 멀티 스레드가 유리합니다. 예를 들어, Tomcat, Node.js는 각 클라이언트 요청을 별도의 스레드로 처리합니다.

### 5. 멀티 프로세싱과 멀티 프로그래밍이란?

> 멀티 프로세싱은 다수의 프로세서가 하나의 응용 프로그램을 병렬로 실행해서 속도를 높이는 기법을 의미합니다. 이때 프로세서는 CPU나 마이크로프로세서와 같은 하드웨어를 의미합니다.
>
> 멀티 프로그래밍은 하나의 프로세서에서 여러 개의 프로그램이 동시에 실행해서 CPU 사용률을 극대화하는 기법을 의미합니다.

### 6. Context Switching이란?

> 컨텍스트 스위칭이란 CPU를 한 프로세스에서 다른 프로세스로 넘겨주는 과정입니다. 현재 진행하고 있는 프로세스의 상태를 PCB에 저장하고, 다음 진행할 프로세스의 정보를 PCB에서 읽어 적용하는 과정입니다.

#### 필요한 이유

> CPU는 한 번에 하나의 프로세스만 수행할 수 있습니다. 하지만 실생활에서 사용자는 여러 개의 프로세스를 동시에 수행하려고 합니다. 그렇기 때문에 CPU는 동시에 수행하는 것처럼 보이게 하기 위해서 여러 개의 프로세스를 번갈아가며 수행합니다. 이때 CPU가 프로세스를 바꿔가며 실행하기 위해서 문맥 교환이 필요합니다.

### 7. PCB란?

> PCB는 운영체제에서 프로세스를 관리하기 위해 해당 프로세스의 상태 정보를 담고 있는 자료구조입니다.  
> 프로세스를 컨텍스트 스위칭 할때 기존 프로세스의 상태를 어딘가에 저장해 둬야 다음에 똑같은 작업을 이어서 할 수 있을 것이고, 새로 해야 할 작업의 상태 또한 알아야 어디서부터 다시 작업을 시작할지 결정하기 위해 PCB를 사용합니다.

### 8. Thread-Safe란?

> 스레드 세이프란 멀티 스레딩 환경에서 여러 스레드가 동시에 같은 코드 영역에 접근하거나 데이터를 공유할 때, 올바른 실행 결과를 보장하는 코드의 속성을 의미합니다. 이는 데이터 무결성과 일관성을 유지하는데 필수적인 조건입니다. 스레드 세이프를 보장하기 위해 상호 배제, 동기화 기법 등을 사용합니다.

### 9. 멀티 쓰레드 환경에서 주의해야 할 점은?

> 다수의 스레드가 공유 데이터에 동시에 접근하는 경우에 상호배제, 동기화 기법을 통한 동시성 문제, 교착 상태가 발생하지 않도록 주의해야 합니다.

### 10. Sync와 Async의 차이점은?

> 동기는 작업이 순차적으로 진행되는 것을 의미합니다. 한 작업이 시작되면 해당 작업이 완료될 때까지 다른 작업은 기다려야 합니다. 동기 방식은 순차적으로 실행되어야 하는 작업이나 작업 간의 의존성이 높은 경우에 적합합니다.
>
> 비동기는 작업이 독립적으로 실행되며, 작업의 완료 여부를 기다리지 않고 다른 작업을 실행할 수 있는 방식을 의미합니다. 비동기 방식은 주로 입출력 작업이나 네트워크 요청과 같이 시간이 오래 걸리는 작업에 유용합니다.

### 11. Blocking과 Non-Blocking의 차이점은?

> 블로킹은 호출된 함수가 자신의 작업이 종료될 때까지 제어권을 갖고 있는 방식입니다. 호출된 함수의 작업이 종료될 때까지 호출하는 함수는 다른 작업을 진행할 수 없습니다.
>
> 논블로킹은 호출된 함수가 자신의 작업이 종료되지 않았더라도 함수의 제어권을 자신을 호출하는 함수에게 바로 넘겨주는 것을 의미합니다.

### 12. 프로세스의 종류에는 무엇이 있는지 설명해주세요.

> 프로세스의 종류로는 부모 프로세스, 자식 프로세스, 데몬 프로세스, 고아 프로세스, 좀비 프로세스가 있습니다.
>
> 부모 프로세스란 자식 프로세스를 만드는 프로세스입니다.  
> 자식 프로세스란 부모에 의해 생성된 프로세스입니다.  
> 데몬 프로세스란 유닉스 커널에 의해 실행되는 프로세스로, 대기 상태로 서비스 요청을 기다리다가 서비스 요청이 들어오면 해당 서비스를 제공합니다.  
> 고아 프로세스란 실행 도중 부모 프로세스가 종료된 프로세스입니다.  
> 좀비 프로세스란 부모 프로세스가 종료처리를 하지 않은 프로세스입니다.

### 13. 동시성과 병렬성의 차이는?

> 동시성은 하나의 시스템이 여러 작업을 동시에 처리하는 것처럼 보이게 하는 것입니다. 즉, 실질적으로는 한 번에 하나의 작업만 처리합니다. 병렬성은 여러 작업을 실제로 동시에 처리하는 것입니다.
>
> 동시성은 싱글 코어에서 멀티 쓰레드를 동작시키는 방식이라면, 병렬성은 멀티 코어에서 멀티 쓰레드를 동작시키는 방식입니다.

<br>

## CPU 스케줄링

### 1. CPU Scheduling이란?

> CPU 스케줄링이란 ready queue에 대기하는 프로세스 중 누구에게 CPU를 줄 것인가를 결정하는 작업입니다. 비선점형 스케줄링과 선점형 스케줄링이 존재합니다.

#### CPU Scheduling 알고리즘 종류

> FCFS는 비선점 스케줄링 알고리즘으로, 먼저 온 순서대로 처리하는 방식입니다. 어떤 프로세스가 먼저 실행되느냐에 따라 전체 대기 시간에 상당한 영향을 미칩니다.
>
> SJF는 비선점 스케줄링 알고리즘으로, CPU burst가 가장 짧은 프로세스에게 먼저 CPU를 할당하는 방식입니다. 평균 대기 시간을 가장 짧게 하는 최적의 알고리즘입니다.
>
> SRTF는 선점 스케줄링 알고리즘으로, CPU burst가 가장 짧은 프로세스에게 먼저 CPU를 할당하는 방식입니다. CPU를 잡았더라도 더 짧은 프로세스가 들어오면 CPU를 빼앗기게 됩니다.
>
> Round Robin은 선점 스케줄링 알고리즘으로, 각 프로세스에 동일한 크기의 할당 시간을 제공하는 방식입니다. 할당 시간이 지나면 프로세스는 CPU를 빼앗기고 레디 큐 맨 뒤에 가기 때문에 짧은 응답 시간을 보장합니다.

### 2. CPU의 성능 척도에 무엇이 있는가?

> CPU 성능 척도는 크게 시스템 입장과 프로세스 입장으로 나뉩니다.  
> 시스템 입장에서는 CPU 이용률과 처리량이 성능의 척도를 나타냅니다.  
> 프로세스 입장에서는 소요시간 및 반환시간, 대기 시간, 응답 시간이 성능의 척도를 나타냅니다.

### 3. preemption과 non-preemption의 차이점은?

> 선점형 스케줄링은 하나의 프로세스가 CPU를 차지하고 있을 때, 우선 순위가 높은 다른 프로세스가 현재 프로세스를 중단시키고 CPU를 점유하는 스케줄링 방식입니다.
>
> 비선점형 스케줄링은 하나의 프로세스가 CPU를 할당 받으면, 작업 종료 후 CPU 반환 시까지 다른 프로세스가 CPU를 점유할 수 없는 스케줄링 방식입니다.

### 4. Convoy Effect란?

> 콘보이 현상이란 긴 프로세스 하나 때문에 짧은 프로세스 여러 개가 기다리는 현상입니다. 주로 FCFS 스케줄링에서 발생하는 문제점입니다.

### 5. 운영체제에서 기아란?

> 기아란 자신보다 우선순위 높은 프로세스 때문에 오랫동안 cpu 할당을 받지 못하는 현상입니다.

### 6. 운영체제에서 에이징이란?

> 에이징이란 아무리 우선 순위가 낮은 프로세스라 하더라도 시간이 오래 지나면 우선 순위를 높여주는 기법입니다.

<br>

## 병행 제어

### 1. Race Condition과 Critical Section이란?

### 2. Mutex와 Semaphore란?

### 3. 스풀링이란?

### 4. SpinLock이란?

<br>

## 데드락

### 1. DeadLock이란?

#### 교착 상태의 4가지 필요 조건은?

#### 교착 상태 해결 방법은?

### 2. Banker's algorithm이란?

### 3. '식사하는 철학자 문제'란?

#### DeadLock이 어떨 때 발생하는지

#### 이를 해결하기 위한 방법

<br>

## 메모리 관리

### 1. OS가 메모리 관리를 해야하는 이유는?

#### 메모리 관리를 위해 어떤 전략을 사용해야 하는지

### 2. 메모리 할당 방식 중 연속(Contiguous) 방식과 불연속(Non-Contiguous) 방식이란?

### 3. 메모리 fit의 종류

### 4. Swapping이란?

#### Swapping 중에 발생하는 문제점

### 5. Paging과 Segmentation이란?

#### 장단점

### 6. 내부단편화와 외부단편화란?

### 7. 단편화를 해소하기 위한 방법은?

### 8. 캐시 메모리를 사용하는 이유는?

<br>

## 가상 메모리

### 1. 가상메모리란?

### 2. 요구 페이징(Demand Paging)이란?

### 3. 페이지 교체는 언제 발생하는가?

#### 페이지 교체 알고리즘 종류

### 4. Thrashing이란?

### 5. 메모리가 고갈되면 발생하는 현상은?

<br>

## 입출력 시스템

### 1. RAID의 종류에는 무엇이 있는가?

### 2. 버퍼링이란?
